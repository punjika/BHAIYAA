import{Ab as E,Bb as w,Cb as N,Da as V,Db as $,Fa as b,Fb as D,Ga as t,Ha as n,Hb as T,Ia as C,Ja as x,Ka as l,L as f,La as g,Ma as o,Na as s,Oa as S,Q as v,Sa as y,W as _,ca as p,da as m,lb as I,nb as F,ra as u,sa as h,sb as M,ub as O,vb as d,wb as k,xb as P}from"./chunk-7TWV5RFI.js";var U=(()=>{class i{constructor(e){this.http=e,this.baseUrl="https://bhaiyaa-production.up.railway.app/api/venues"}getVenues(){return this.http.get(this.baseUrl)}createVenue(e){return this.http.post(this.baseUrl,e)}updateVenue(e,r){return this.http.put(`${this.baseUrl}/${e}`,r)}deleteVenue(e){return this.http.delete(`${this.baseUrl}/${e}`)}static{this.\u0275fac=function(r){return new(r||i)(v(M))}}static{this.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function q(i,j){if(i&1){let e=x();t(0,"tr")(1,"td"),o(2),n(),t(3,"td"),o(4),n(),t(5,"td"),o(6),n(),t(7,"td",7)(8,"button",8),l("click",function(){let a=p(e).$implicit,c=g();return m(c.editVenue(a))}),o(9,"Edit"),n(),t(10,"button",8),l("click",function(){let a=p(e).$implicit,c=g();return m(c.deleteVenue(a.venueId))}),o(11,"Delete"),n()()()}if(i&2){let e=j.$implicit;u(2),s(e.venueId),u(2),s(e.location),u(2),s(e.capacity)}}var J=(()=>{class i{constructor(e,r){this.venueService=e,this.fb=r,this.venues=[],this.editingVenueId=null,this.venueForm=this.fb.group({venueId:["",d.required],location:["",d.required],capacity:[0,d.required]})}ngOnInit(){this.loadVenues()}loadVenues(){this.venueService.getVenues().subscribe(e=>this.venues=e)}onSubmit(){let e=this.venueForm.value;this.editingVenueId?this.venueService.updateVenue(this.editingVenueId,e).subscribe(()=>{this.loadVenues(),this.resetForm()}):this.venueService.createVenue(e).subscribe(()=>{this.loadVenues(),this.resetForm()})}editVenue(e){this.venueForm.setValue({venueId:e.venueId,location:e.location,capacity:e.capacity}),this.editingVenueId=e.venueId??null}deleteVenue(e){e&&this.venueService.deleteVenue(e).subscribe(()=>this.loadVenues())}resetForm(){this.venueForm.reset(),this.editingVenueId=null}static{this.\u0275fac=function(r){return new(r||i)(h(U),h(D))}}static{this.\u0275cmp=_({type:i,selectors:[["app-venue"]],standalone:!0,features:[y],decls:24,vars:3,consts:[[3,"ngSubmit","formGroup"],["formControlName","venueId","placeholder","venueId"],["formControlName","location","placeholder","Location"],["type","number","formControlName","capacity","placeholder","Capacity"],["type","submit"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[1,"action"],[3,"click"]],template:function(r,a){r&1&&(t(0,"body")(1,"h2"),o(2,"Venues"),n(),t(3,"form",0),l("ngSubmit",function(){return a.onSubmit()}),C(4,"input",1)(5,"input",2)(6,"input",3),t(7,"button",4),o(8),n(),t(9,"button",5),l("click",function(){return a.resetForm()}),o(10,"Reset"),n()(),t(11,"table")(12,"thead")(13,"tr")(14,"th"),o(15,"ID"),n(),t(16,"th"),o(17,"Location"),n(),t(18,"th"),o(19,"Capacity"),n(),t(20,"th"),o(21,"Actions"),n()()(),t(22,"tbody"),V(23,q,12,3,"tr",6),n()()()),r&2&&(u(3),b("formGroup",a.venueForm),u(5),S("",a.editingVenueId?"Update":"Add"," Venue"),u(15),b("ngForOf",a.venues))},dependencies:[F,I,T,E,O,w,k,P,N,$],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}input[_ngcontent-%COMP%]{padding:8px;border:1px solid #aaa;border-radius:4px;width:200px}button[_ngcontent-%COMP%]{padding:8px 12px;border:none;background-color:#28a745;color:#fff;border-radius:4px;cursor:pointer}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;background-color:#28a745}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#dc3545}button[_ngcontent-%COMP%]:hover{background-color:#357abd}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.5}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}th[_ngcontent-%COMP%]{background-color:#f4f4f4}body[_ngcontent-%COMP%]{background-image:url(https://unbounce.com/photos/Gradient-Background.png);background-size:cover;background-position:right;border-radius:3px}"]})}}return i})();export{J as VenueComponent};
