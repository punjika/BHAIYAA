import{Ab as w,Cb as N,Da as x,Db as V,Fa as h,Fb as D,Ga as e,Ha as o,Hb as $,Ia as C,Ja as v,Ka as c,L as g,La as S,Ma as r,Na as l,Oa as F,Q as f,Sa as I,W as _,ca as d,da as m,lb as M,nb as O,ra as p,sa as u,sb as y,ub as k,vb as b,wb as P,xb as E}from"./chunk-7TWV5RFI.js";var T=(()=>{class n{constructor(t){this.http=t,this.baseUrl="http://bhaiyaa-production.up.railway.app/api/sponsors"}getSponsors(){return this.http.get(this.baseUrl)}createSponsor(t){return this.http.post(this.baseUrl,t)}updateSponsor(t,i){return this.http.put(`${this.baseUrl}/${t}`,i)}deleteSponsor(t){return this.http.delete(`${this.baseUrl}/${t}`)}static{this.\u0275fac=function(i){return new(i||n)(f(y))}}static{this.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function A(n,U){if(n&1){let t=v();e(0,"tr")(1,"td"),r(2),o(),e(3,"td"),r(4),o(),e(5,"td"),r(6),o(),e(7,"td",6)(8,"button",7),c("click",function(){let s=d(t).$implicit,a=S();return m(a.editSponsor(s))}),r(9,"Edit"),o(),e(10,"button",7),c("click",function(){let s=d(t).$implicit,a=S();return m(a.deleteSponsor(s.sponsorId))}),r(11,"Delete"),o()()()}if(n&2){let t=U.$implicit;p(2),l(t.sponsorId),p(2),l(t.name),p(2),l(t.description)}}var J=(()=>{class n{constructor(t,i){this.sponsorService=t,this.fb=i,this.sponsors=[],this.editingSponsorId=null,this.sponsorForm=this.fb.group({name:["",b.required],description:["",[b.required]]})}ngOnInit(){this.loadSponsors()}loadSponsors(){this.sponsorService.getSponsors().subscribe(t=>this.sponsors=t)}onSubmit(){let t=this.sponsorForm.value;this.editingSponsorId?this.sponsorService.updateSponsor(this.editingSponsorId,t).subscribe(()=>{this.loadSponsors(),this.resetForm()}):this.sponsorService.createSponsor(t).subscribe(()=>{this.loadSponsors(),this.resetForm()})}editSponsor(t){this.sponsorForm.setValue({name:t.name,description:t.description}),this.editingSponsorId=t.sponsorId??null}deleteSponsor(t){t&&this.sponsorService.deleteSponsor(t).subscribe(()=>this.loadSponsors())}resetForm(){this.sponsorForm.reset(),this.editingSponsorId=null}static{this.\u0275fac=function(i){return new(i||n)(u(T),u(D))}}static{this.\u0275cmp=_({type:n,selectors:[["app-sponsor"]],standalone:!0,features:[I],decls:23,vars:3,consts:[[3,"ngSubmit","formGroup"],["formControlName","name","placeholder","Sponsor Name"],["formControlName","description","type","text","placeholder","description"],["type","submit"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[1,"action"],[3,"click"]],template:function(i,s){i&1&&(e(0,"body")(1,"h2"),r(2,"Sponsors"),o(),e(3,"form",0),c("ngSubmit",function(){return s.onSubmit()}),C(4,"input",1)(5,"input",2),e(6,"button",3),r(7),o(),e(8,"button",4),c("click",function(){return s.resetForm()}),r(9,"Reset"),o()(),e(10,"table")(11,"thead")(12,"tr")(13,"th"),r(14,"ID"),o(),e(15,"th"),r(16,"Name"),o(),e(17,"th"),r(18,"Description"),o(),e(19,"th"),r(20,"Actions"),o()()(),e(21,"tbody"),x(22,A,12,3,"tr",5),o()()()),i&2&&(p(3),h("formGroup",s.sponsorForm),p(4),F("",s.editingSponsorId?"Update":"Add"," Sponsor"),p(15),h("ngForOf",s.sponsors))},dependencies:[O,M,$,w,k,P,E,N,V],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}input[_ngcontent-%COMP%]{padding:8px;border:1px solid #aaa;border-radius:4px;width:200px}button[_ngcontent-%COMP%]{padding:8px 12px;border:none;background-color:#28a745;color:#fff;border-radius:4px;cursor:pointer}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;background-color:#28a745}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#dc3545}button[_ngcontent-%COMP%]:hover{background-color:#357abd}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.5}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}th[_ngcontent-%COMP%]{background-color:#f4f4f4}body[_ngcontent-%COMP%]{background-image:url(https://unbounce.com/photos/Gradient-Background.png);background-size:cover;border-radius:3px}"]})}}return n})();export{J as SponsorComponent};
