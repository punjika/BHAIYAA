import{Ab as w,Cb as N,Da as _,Db as V,Fa as m,Fb as D,Ga as o,Ha as i,Hb as $,Ia as x,Ja as S,Ka as l,L as h,La as u,Ma as n,Na as C,Oa as v,Q as b,Sa as I,W as f,ca as d,da as g,lb as F,nb as M,ra as c,sa as p,sb as O,ub as k,vb as y,wb as P,xb as E}from"./chunk-7TWV5RFI.js";var T=(()=>{class e{constructor(t){this.http=t,this.baseUrl="http://localhost:8080/api/categories"}getCategories(){return this.http.get(this.baseUrl)}createCategory(t){return this.http.post(this.baseUrl,t)}updateCategory(t,r){return this.http.put(`${this.baseUrl}/${t}`,r)}deleteCategory(t){return this.http.delete(`${this.baseUrl}/${t}`)}static{this.\u0275fac=function(r){return new(r||e)(b(O))}}static{this.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function A(e,U){if(e&1){let t=S();o(0,"tr")(1,"td"),n(2),i(),o(3,"td"),n(4),i(),o(5,"td",6)(6,"button",7),l("click",function(){let a=d(t).$implicit,s=u();return g(s.editCategory(a))}),n(7,"Edit"),i(),o(8,"button",7),l("click",function(){let a=d(t).$implicit,s=u();return g(s.deleteCategory(a.categoryId))}),n(9,"Delete"),i()()()}if(e&2){let t=U.$implicit;c(2),C(t.categoryId),c(2),C(t.description)}}var J=(()=>{class e{constructor(t,r){this.categoryService=t,this.fb=r,this.categories=[],this.editingCategoryId=null,this.categoryForm=this.fb.group({categoryId:["",y.required],description:["",y.required]})}ngOnInit(){this.loadCategories()}loadCategories(){this.categoryService.getCategories().subscribe(t=>{this.categories=t})}onSubmit(){let t=this.categoryForm.value;this.editingCategoryId?this.categoryService.updateCategory(this.editingCategoryId,t).subscribe(()=>{this.loadCategories(),this.resetForm()}):this.categoryService.createCategory(t).subscribe(()=>{this.loadCategories(),this.resetForm()})}editCategory(t){this.categoryForm.setValue({categoryId:t.categoryId,description:t.description}),this.editingCategoryId=t.categoryId??null}deleteCategory(t){t&&this.categoryService.deleteCategory(t).subscribe(()=>{this.loadCategories()})}resetForm(){this.categoryForm.reset(),this.editingCategoryId=null}static{this.\u0275fac=function(r){return new(r||e)(p(T),p(D))}}static{this.\u0275cmp=f({type:e,selectors:[["app-category"]],standalone:!0,features:[I],decls:21,vars:3,consts:[[3,"ngSubmit","formGroup"],["formControlName","categoryId","placeholder","Category ID"],["formControlName","description","placeholder","Category Name"],["type","submit"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[1,"action"],[3,"click"]],template:function(r,a){r&1&&(o(0,"body")(1,"h2"),n(2,"Categories"),i(),o(3,"form",0),l("ngSubmit",function(){return a.onSubmit()}),x(4,"input",1)(5,"input",2),o(6,"button",3),n(7),i(),o(8,"button",4),l("click",function(){return a.resetForm()}),n(9,"Reset"),i()(),o(10,"table")(11,"thead")(12,"tr")(13,"th"),n(14,"ID"),i(),o(15,"th"),n(16,"Name"),i(),o(17,"th"),n(18,"Actions"),i()()(),o(19,"tbody"),_(20,A,10,2,"tr",5),i()()()),r&2&&(c(3),m("formGroup",a.categoryForm),c(4),v("",a.editingCategoryId?"Update":"Add"," Category"),c(13),m("ngForOf",a.categories))},dependencies:[M,F,$,w,k,P,E,N,V],styles:["form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}input[_ngcontent-%COMP%]{padding:8px;border:1px solid #aaa;border-radius:4px;width:200px}button[_ngcontent-%COMP%]{padding:8px 12px;border:none;background-color:#28a745;color:#fff;border-radius:4px;cursor:pointer;gap:5px}button[_ngcontent-%COMP%]:hover{background-color:#357abd}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;background-color:#28a745}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#dc3545}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.5}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}th[_ngcontent-%COMP%]{background-color:#f4f4f4}body[_ngcontent-%COMP%]{background-image:url(https://unbounce.com/photos/Gradient-Background.png);background-size:cover;background-position:top;border-radius:3px}.actions[_ngcontent-%COMP%]{display:flex;gap:5px}"]})}}return e})();export{J as CategoryComponent};
