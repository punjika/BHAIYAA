import{Da as f,Fa as _,Ga as a,Gb as U,Ha as i,Ja as x,Ka as b,L as w,La as l,Ma as c,Na as v,Oa as C,Pa as m,Q as M,Qa as p,Ra as u,Sa as S,W as y,ca as d,da as g,lb as E,mb as k,nb as O,ra as s,sa as P,sb as V,ub as I,wb as D,zb as F}from"./chunk-7TWV5RFI.js";var T=(()=>{class n{constructor(e){this.http=e,this.apiBase="https://bhaiyaa-production.up.railway.app/api"}getCategories(){return this.http.get(`${this.apiBase}/categories`)}getEventsByCategory(e){return this.http.get(`${this.apiBase}/events/category/${e}`)}registerEvent(e){return this.http.post(`${this.apiBase}/registrations`,e)}static{this.\u0275fac=function(r){return new(r||n)(M(V))}}static{this.\u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function B(n,h){if(n&1){let e=x();a(0,"button",4),b("click",function(){let t=d(e).$implicit,o=l();return g(o.filterEvents(t.categoryId))}),c(1),i()}if(n&2){let e=h.$implicit;s(),C(" ",e.description," ")}}function N(n,h){if(n&1){let e=x();a(0,"div",7)(1,"h4"),c(2),i(),a(3,"p"),c(4),i(),a(5,"p")(6,"strong"),c(7,"Date:"),i(),c(8),i(),a(9,"p")(10,"strong"),c(11,"Time:"),i(),c(12),i(),a(13,"button",4),b("click",function(){let t=d(e).$implicit,o=l(2);return g(o.openRegistrationForm(t.eventId))}),c(14,"Register"),i()()}if(n&2){let e=h.$implicit;s(2),v(e.name),s(2),v(e.description),s(4),C(" ",e.date,""),s(4),C(" ",e.time,"")}}function L(n,h){if(n&1&&(a(0,"div",5),f(1,N,15,4,"div",6),i()),n&2){let e=l();s(),_("ngForOf",e.events)}}function j(n,h){if(n&1){let e=x();a(0,"div",8)(1,"h3"),c(2,"Register for Event"),i(),a(3,"input",9),u("ngModelChange",function(t){d(e);let o=l();return p(o.registration.name,t)||(o.registration.name=t),g(t)}),i(),a(4,"input",10),u("ngModelChange",function(t){d(e);let o=l();return p(o.registration.phone,t)||(o.registration.phone=t),g(t)}),i(),a(5,"input",11),u("ngModelChange",function(t){d(e);let o=l();return p(o.registration.email,t)||(o.registration.email=t),g(t)}),i(),a(6,"input",12),u("ngModelChange",function(t){d(e);let o=l();return p(o.registration.college,t)||(o.registration.college=t),g(t)}),i(),a(7,"input",13),u("ngModelChange",function(t){d(e);let o=l();return p(o.registration.branch,t)||(o.registration.branch=t),g(t)}),i(),a(8,"button",4),b("click",function(){d(e);let t=l();return g(t.submitRegistration())}),c(9,"Submit"),i(),a(10,"button",14),b("click",function(){d(e);let t=l();return g(t.cancelRegistration())}),c(11,"Cancel"),i()()}if(n&2){let e=l();s(3),m("ngModel",e.registration.name),s(),m("ngModel",e.registration.phone),s(),m("ngModel",e.registration.email),s(),m("ngModel",e.registration.college),s(),m("ngModel",e.registration.branch)}}var J=(()=>{class n{constructor(e){this.userService=e,this.categories=[],this.events=[],this.selectedCategoryId=null,this.showRegistrationForm=!1,this.selectedEventId=null,this.registration={name:"",phone:"",email:"",college:"",branch:"",eventId:0}}ngOnInit(){this.userService.getCategories().subscribe(e=>this.categories=e)}filterEvents(e){this.selectedCategoryId=e,this.userService.getEventsByCategory(e).subscribe(r=>this.events=r)}openRegistrationForm(e){this.selectedEventId=e,this.registration={name:"",phone:"",email:"",college:"",branch:"",eventId:e},this.showRegistrationForm=!0}submitRegistration(){if(!this.registration.name||!this.registration.phone||!this.registration.email||!this.registration.college||!this.registration.branch){alert("Please fill in all fields.");return}if(!/^[0-9]{10}$/.test(this.registration.phone)){alert("Please enter a valid 10-digit phone number.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.registration.email)){alert("Please enter a valid email address.");return}this.userService.registerEvent(this.registration).subscribe(()=>{alert("Registered successfully!"),this.showRegistrationForm=!1})}cancelRegistration(){this.showRegistrationForm=!1,this.registration={name:"",phone:"",email:"",college:"",branch:"",eventId:0}}static{this.\u0275fac=function(r){return new(r||n)(P(T))}}static{this.\u0275cmp=y({type:n,selectors:[["app-user-dashboard"]],standalone:!0,features:[S],decls:6,vars:3,consts:[[1,"categories"],[3,"click",4,"ngFor","ngForOf"],["class","events",4,"ngIf"],["class","form-box",4,"ngIf"],[3,"click"],[1,"events"],["class","event-card",4,"ngFor","ngForOf"],[1,"event-card"],[1,"form-box"],["placeholder","Name",3,"ngModelChange","ngModel"],["placeholder","Phone",3,"ngModelChange","ngModel"],["placeholder","Email",3,"ngModelChange","ngModel"],["placeholder","College Name",3,"ngModelChange","ngModel"],["placeholder","Branch Name",3,"ngModelChange","ngModel"],[1,"cancel-btn",3,"click"]],template:function(r,t){r&1&&(a(0,"h2"),c(1,"User Dashboard"),i(),a(2,"div",0),f(3,B,2,1,"button",1),i(),f(4,L,2,1,"div",2)(5,j,12,5,"div",3)),r&2&&(s(3),_("ngForOf",t.categories),s(),_("ngIf",t.events.length),s(),_("ngIf",t.showRegistrationForm))},dependencies:[O,E,k,U,I,D,F],styles:[".categories[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.5rem;padding:.6rem 1.2rem;background-image:url(https://unbounce.com/photos/Gradient-Background.png);background-size:cover;color:#fff;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s ease}.categories[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.event-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:1.2rem;margin:1rem 0;border-radius:12px;background-color:#fff;box-shadow:0 2px 6px #0000001a}.form-box[_ngcontent-%COMP%]{margin:1.5rem 0;padding:1.5rem;border:1px solid #ddd;background-color:#f7f9fc;border-radius:12px;box-shadow:0 2px 8px #0000000d}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{display:block;margin:1rem 0;width:100%;padding:.75rem;border-radius:8px;border:1px solid #ccc;font-size:1rem;transition:border-color .2s ease}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff26}button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:.7rem 1.5rem;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;margin-left:1rem}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}h4[_ngcontent-%COMP%]{border:2px solid rgb(179,216,249);max-width:100px;border-radius:10px}.feedback-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c1bfbf}"]})}}return n})();export{J as UserDashboardComponent};
